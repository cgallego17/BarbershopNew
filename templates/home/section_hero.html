{% load static %}
<section class="hero-slider-three hero-main-slider" style="min-height: 100vh;">
    <div class="hero-slider-three__bg" style="background-image: url({% static 'assets/images/shapes/hero-slider-bg-3-1-dark.png' %});"></div>
    <a href="#about" class="hero-slider-three__scroll-btn"><span class="icon-down-arrow"></span></a>
    <div class="hero-slider-three__carousel boskery-owl__carousel--with-counter owl-carousel" data-owl-options='{"loop": true, "animateIn": "fadeIn", "animateOut": "slideOutDown", "items": 1, "autoplay": true, "autoplayTimeout": 7000, "smartSpeed": 1000, "nav": false, "dots": true, "margin": 0}'>
        {% for slide in hero_slides %}
        <div class="item">
            <div class="hero-slider-three__item">
                <div class="container">
                    <div class="row gutter-y-60">
                        <div class="col-xxl-7 col-xl-6">
                            <div class="hero-slider-three__content">
                                {% if slide.subtitle %}<h5 class="hero-slider-three__sub-title">{{ slide.subtitle }}</h5>{% endif %}
                                <h2 class="hero-slider-three__title">{{ slide.title|linebreaksbr }}
                                    <span class="hero-slider-three__title__overlay hero-slider-three__title__overlay--1"></span>
                                    <span class="hero-slider-three__title__overlay hero-slider-three__title__overlay--2"></span>
                                    <span class="hero-slider-three__title__overlay hero-slider-three__title__overlay--3"></span>
                                    <span class="hero-slider-three__title__overlay hero-slider-three__title__overlay--4"></span>
                                </h2>
                                {% if slide.button_text %}
                                <div class="hero-slider-three__btn">
                                    <a href="{{ slide.button_url|default:'#' }}" class="boskery-btn">
                                        <span class="boskery-btn__hover"></span><span class="boskery-btn__hover"></span><span class="boskery-btn__hover"></span>
                                        <span class="boskery-btn__hover"></span><span class="boskery-btn__hover"></span><span class="boskery-btn__hover"></span>
                                        <span class="boskery-btn__text">{{ slide.button_text }}</span>
                                        <i class="fas fa-cut" aria-hidden="true"></i>
                                    </a>
                                </div>
                                {% endif %}
                                {% if slide.text %}<div class="hero-slider-three__text">{{ slide.text|safe }}</div>{% endif %}
                            </div>
                        </div>
                        <div class="col-xxl-5 col-xl-6">
                            <div class="hero-slider-three__image">
                                {% if slide.image %}<img src="{{ slide.image.url }}" alt="{{ slide.title }}" class="hero-slider-three__image__one" {% if not forloop.first %}loading="lazy"{% endif %}>{% else %}<img src="{% static 'assets/images/resources/hero-slider-3-1.png' %}" alt="{{ slide.title }}" class="hero-slider-three__image__one" {% if not forloop.first %}loading="lazy"{% endif %}>{% endif %}
                                <div class="hero-slider-three__image__bg"></div>
                                {% if slide.shape_image %}<img src="{{ slide.shape_image.url }}" alt="Decoración slide" class="hero-slider-three__image__shape" loading="lazy">{% else %}<img src="{% static 'assets/images/shapes/hero-slider-shape-3-2.png' %}" alt="Decoración slide" class="hero-slider-three__image__shape" loading="lazy">{% endif %}
                                {% if slide.video_url %}
                                <div class="hero-slider-three__curved-circle-box hero-slider-three__curved-circle-box--visible">
                                    <a href="{{ slide.video_url }}" class="video-popup" title="Ver video"><i class="icon-play"></i></a>
                                    <div class="curved-circle"><div class="curved-circle__item" data-circle-text-options='{"radius": 75, "forceWidth": true, "forceHeight": true}'>Ver video * </div></div>
                                </div>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        {% empty %}
        <div class="item">
            <div class="hero-slider-three__item">
                <div class="container">
                    <div class="row gutter-y-60">
                        <div class="col-xxl-7 col-xl-6">
                            <div class="hero-slider-three__content">
                                <h2 class="hero-slider-three__title">{{ site_settings.site_name|default:"Bienvenido" }}
                                    <span class="hero-slider-three__title__overlay hero-slider-three__title__overlay--1"></span>
                                    <span class="hero-slider-three__title__overlay hero-slider-three__title__overlay--2"></span>
                                    <span class="hero-slider-three__title__overlay hero-slider-three__title__overlay--3"></span>
                                    <span class="hero-slider-three__title__overlay hero-slider-three__title__overlay--4"></span>
                                </h2>
                                <a href="{% url 'products:list' %}" class="boskery-btn">
                                    <span class="boskery-btn__hover"></span><span class="boskery-btn__hover"></span><span class="boskery-btn__hover"></span>
                                    <span class="boskery-btn__text">Ver productos</span>
                                    <i class="fas fa-cut" aria-hidden="true"></i>
                                </a>
                            </div>
                        </div>
                        <div class="col-xxl-5 col-xl-6">
                            <div class="hero-slider-three__image">
                                <img src="{% static 'assets/images/resources/hero-slider-3-1.png' %}" alt="" class="hero-slider-three__image__one">
                                <div class="hero-slider-three__image__bg"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</section>
<style>
/* Mostrar botón de video también en móvil (el tema lo oculta por defecto en &lt;500px) */
@media (max-width: 500px) {
    .hero-slider-three__curved-circle-box--visible {
        display: inline-block !important;
        width: 120px !important;
        height: 120px !important;
        top: 10px;
        right: 0;
    }
    .hero-slider-three__curved-circle-box--visible .video-popup { font-size: 16px; }
}
</style>
