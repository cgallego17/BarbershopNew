{% extends "emails/base.html" %}
{% load humanize %}
{% block title %}Pago aprobado #{{ order.order_number }}{% endblock %}
{% block header_label %}Pago aprobado{% endblock %}
{% block content %}

<!-- STATUS BADGE -->
<table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0">
    <tr>
        <td align="center" style="padding:0 0 20px 0;">
            <div style="display:inline-block;width:60px;height:60px;background:#14532d;border-radius:50%;text-align:center;line-height:60px;font-size:26px;border:2px solid #4ade80;">
                ✓
            </div>
        </td>
    </tr>
    <tr>
        <td align="center" style="padding:0 0 6px 0;">
            <h2 style="margin:0;font-size:24px;font-weight:800;color:#4ade80;">
                ¡Pago aprobado!
            </h2>
        </td>
    </tr>
    <tr>
        <td align="center" style="padding:0 0 24px 0;">
            <p style="margin:0;font-size:14px;color:#8892a4;">
                Hola <strong style="color:#d1d9eb;">{{ order.billing_first_name }}</strong>,
                tu pago fue procesado exitosamente. Tu pedido entra en preparación.
            </p>
        </td>
    </tr>
</table>

<!-- ORDER SUMMARY -->
<table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0">
    <tr>
        <td style="padding:16px 20px;background:#1e2330;border-radius:10px;border:1px solid #272c38;">
            <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0">
                <tr>
                    <td style="font-size:12px;color:#6b7686;padding-bottom:8px;">Número de pedido</td>
                    <td align="right" style="font-size:14px;font-weight:700;color:#e07a40;padding-bottom:8px;">
                        #{{ order.order_number }}
                    </td>
                </tr>
                <tr>
                    <td style="font-size:12px;color:#6b7686;padding-bottom:8px;">Estado del pedido</td>
                    <td align="right" style="font-size:13px;color:#d1d9eb;padding-bottom:8px;">
                        {{ order.get_status_display }}
                    </td>
                </tr>
                <tr>
                    <td style="font-size:12px;color:#6b7686;padding-bottom:8px;">Estado del pago</td>
                    <td align="right" style="padding-bottom:8px;">
                        <span style="display:inline-block;padding:3px 10px;background:#14532d;border-radius:20px;font-size:12px;font-weight:600;color:#4ade80;">
                            {{ order.get_payment_status_display }}
                        </span>
                    </td>
                </tr>
                <tr>
                    <td style="font-size:12px;color:#6b7686;padding-top:4px;border-top:1px solid #272c38;"></td>
                    <td style="padding-top:4px;border-top:1px solid #272c38;"></td>
                </tr>
                <tr>
                    <td style="font-size:15px;font-weight:700;color:#ffffff;padding-top:8px;">Total pagado</td>
                    <td align="right" style="font-size:20px;font-weight:800;color:#4ade80;padding-top:8px;">
                        ${{ order.total|floatformat:0|intcomma }}
                    </td>
                </tr>
            </table>
        </td>
    </tr>
</table>

<!-- NEXT STEPS -->
<table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0" style="margin-top:22px;">
    <tr>
        <td style="padding:14px 16px;background:#1a2d1a;border-radius:10px;border-left:3px solid #4ade80;">
            <p style="margin:0 0 6px 0;font-size:12px;font-weight:700;color:#4ade80;text-transform:uppercase;letter-spacing:.5px;">
                Próximos pasos
            </p>
            <p style="margin:0;font-size:13px;color:#adb5c9;line-height:1.6;">
                Nuestro equipo recibirá tu pedido y comenzará a prepararlo.
                Te notificaremos cuando esté en camino.
            </p>
        </td>
    </tr>
</table>

<!-- CTA -->
<table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0" style="margin-top:28px;">
    <tr>
        <td align="center">
            <a class="btn-main"
               href="{{ site_settings.site_url|default:'http://localhost:8000' }}/pedidos/mis-pedidos/"
               style="display:inline-block;padding:14px 36px;background:linear-gradient(135deg,#c56533,#e07a40);color:#ffffff;font-size:15px;font-weight:700;text-decoration:none;border-radius:8px;letter-spacing:.5px;">
                Ver mi pedido →
            </a>
        </td>
    </tr>
</table>

{% endblock %}
