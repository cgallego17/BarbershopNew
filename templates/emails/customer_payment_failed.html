{% extends "emails/base.html" %}
{% load humanize %}
{% block title %}Pago no completado #{{ order.order_number }}{% endblock %}
{% block header_label %}Estado de pago{% endblock %}
{% block content %}

<!-- STATUS BADGE -->
<table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0">
    <tr>
        <td align="center" style="padding:0 0 20px 0;">
            <div style="display:inline-block;width:60px;height:60px;background:#4c1d1d;border-radius:50%;text-align:center;line-height:60px;font-size:26px;border:2px solid #f87171;">
                ✕
            </div>
        </td>
    </tr>
    <tr>
        <td align="center" style="padding:0 0 6px 0;">
            <h2 style="margin:0;font-size:22px;font-weight:800;color:#f87171;">
                Pago no completado
            </h2>
        </td>
    </tr>
    <tr>
        <td align="center" style="padding:0 0 24px 0;">
            <p style="margin:0;font-size:14px;color:#8892a4;">
                Hola <strong style="color:#d1d9eb;">{{ order.billing_first_name }}</strong>,
                hubo un inconveniente al procesar tu pago. No se realizó ningún cargo.
            </p>
        </td>
    </tr>
</table>

<!-- ORDER SUMMARY -->
<table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0">
    <tr>
        <td style="padding:16px 20px;background:#1e2330;border-radius:10px;border:1px solid #272c38;">
            <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0">
                <tr>
                    <td style="font-size:12px;color:#6b7686;padding-bottom:8px;">Número de pedido</td>
                    <td align="right" style="font-size:14px;font-weight:700;color:#e07a40;padding-bottom:8px;">
                        #{{ order.order_number }}
                    </td>
                </tr>
                <tr>
                    <td style="font-size:12px;color:#6b7686;padding-bottom:8px;">Estado del pago</td>
                    <td align="right" style="padding-bottom:8px;">
                        <span style="display:inline-block;padding:3px 10px;background:#4c1d1d;border-radius:20px;font-size:12px;font-weight:600;color:#f87171;">
                            {{ order.get_payment_status_display }}
                        </span>
                    </td>
                </tr>
                <tr>
                    <td style="font-size:12px;color:#6b7686;">Total del pedido</td>
                    <td align="right" style="font-size:14px;font-weight:700;color:#d1d9eb;">
                        ${{ order.total|floatformat:0|intcomma }}
                    </td>
                </tr>
            </table>
        </td>
    </tr>
</table>

<!-- HELP -->
<table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0" style="margin-top:22px;">
    <tr>
        <td style="padding:14px 16px;background:#2a1a1a;border-radius:10px;border-left:3px solid #f87171;">
            <p style="margin:0 0 6px 0;font-size:12px;font-weight:700;color:#f87171;text-transform:uppercase;letter-spacing:.5px;">
                ¿Qué puedo hacer?
            </p>
            <p style="margin:0;font-size:13px;color:#adb5c9;line-height:1.6;">
                Puedes intentar nuevamente con otro método de pago.
                Si el problema persiste, contáctanos y te ayudamos.
            </p>
        </td>
    </tr>
</table>

<!-- CTA -->
<table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0" style="margin-top:28px;">
    <tr>
        <td align="center">
            <a class="btn-main"
               href="{{ site_settings.site_url|default:'http://localhost:8000' }}/pagos/pagar/{{ order.order_number }}/"
               style="display:inline-block;padding:14px 36px;background:linear-gradient(135deg,#c56533,#e07a40);color:#ffffff;font-size:15px;font-weight:700;text-decoration:none;border-radius:8px;letter-spacing:.5px;">
                Reintentar pago →
            </a>
        </td>
    </tr>
</table>

{% endblock %}
